function b(o){window.enmity.plugins.registerPlugin(o)}function C(o){return window.enmity.patcher.create(o)}const c=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const x=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts;const D=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const L=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const R=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const A=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const y=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const g=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const u=e.FormRow,M=e.FormSection;e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var S="ReplaceTimestamps",h="1.1.0",P="Replaces plaintext 24 hour timestamps into Discord's timestamps",_=[{name:"HypedDomi",id:"354191516979429376"}],B="#E54B4B",v="https://raw.githubusercontent.com/HypedDomi/Enmity-Stuff/main/dist/ReplaceTimestamps.js",T="https://github.com/HypedDomi/Enmity-Stuff/tree/main/ReplaceTimestamps",I={name:S,version:h,description:P,authors:_,color:B,rawUrl:v,sourceUrl:T};const{native:d}=window.enmity;function U(){d.reload()}d.version,d.build,d.device,d.version;function $(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;const F=$("transitionToGuild"),k=o=>window.enmity.plugins.installPlugin(o);var N=()=>{const o=R.createThemedStyleSheet({item:{color:c.ThemeColorMap.TEXT_MUTED},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},main_text:{opacity:.975,letterSpacing:.25},header:{color:c.ThemeColorMap.HEADER_PRIMARY,fontFamily:c.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:c.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),[s,r]=t.useState(),[m,p]=t.useState();return t.createElement(t.Fragment,null,t.createElement(A,{onTouchStart:i=>{r(i.nativeEvent.pageX),p(i.nativeEvent.pageY)},onTouchEnd:i=>{s-i.nativeEvent.pageX<-100&&m-i.nativeEvent.pageY<40&&m-i.nativeEvent.pageY>-40&&L.pop()}},t.createElement(g,null,t.createElement(g,{style:o.text_container},t.createElement(y,{style:[o.main_text,o.header]},S),t.createElement(g,{style:{flexDirection:"row"}},t.createElement(y,{style:[o.main_text,o.sub_header]},"Version:"),t.createElement(y,{style:[o.main_text,o.sub_header,{paddingLeft:4,fontFamily:c.Fonts.DISPLAY_BOLD}]}," ",h)))),t.createElement(M,{title:"Source"},t.createElement(u,{label:"Check for Updates",trailing:u.Arrow,onPress:()=>{k(`${v}?${Math.random()}`),D.show({title:"Plugin Update",body:"Updated to the latest version. Would you like to reload Discord now?",confirmText:"Reload",cancelText:"Later",onConfirm:U})}}),t.createElement(u,{label:"Source",subLabel:`See the Source Code for ${S}`,trailing:u.Arrow,onPress:()=>F==null?void 0:F.openURL(T)}))))};const E=C("ReplaceTimestamps"),V={...I,onStart(){const o=s=>{const r=new Date().toISOString().replace(/T/," ").replace(/\..+/,"").replace(/\d?\d:\d\d/,s),m=Math.round(new Date(r).getTime()/1e3);return isNaN(m)?s:`<t:${m}:t>`};E.before(x,"sendMessage",(s,[,r])=>{const m=/(?<!\d)\d{1,2}:\d{2}(?!\d)(am|pm)?/gi,p=/((?<!\d)\d{1,2}:\d{2}(?!\d))(am|pm)?/i;r.content.search(m)!==-1&&(r.content=r.content.replace(m,i=>{let[,l,w]=i.match(p),[a,n]=l.split(":").map(f=>parseInt(f));return w&&w.toLowerCase()==="pm"&&a<12&&a!==0?(a+=12,n=n.toString().padStart(2,"0"),l=`${a}:${n}`):w&&w.toLowerCase()==="am"&&a===12||a===24?l=`00:${n}`:n>=60&&(a+=Math.floor(n/60),n=n%60,l=`${a}:${n}`),o(l)}))})},onStop(){E.unpatchAll()},getSettingsPanel(){return t.createElement(N,null)}};b(V);
