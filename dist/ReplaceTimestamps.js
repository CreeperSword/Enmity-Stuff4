function D(o){window.enmity.plugins.registerPlugin(o)}function L(o){return window.enmity.patcher.create(o)}const c=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const R=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts;const v=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const A=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const P=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const M=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const h=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const g=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const u=e.FormRow,U=e.FormSection;e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var p="ReplaceTimestamps",S="1.1.1",_="Replaces plaintext 24 hour timestamps into Discord's timestamps",I=[{name:"HypedDomi",id:"354191516979429376"}],$="#E54B4B",T="https://raw.githubusercontent.com/HypedDomi/Enmity-Stuff/main/dist/ReplaceTimestamps.js",f="https://github.com/HypedDomi/Enmity-Stuff/tree/main/ReplaceTimestamps",B={name:p,version:S,description:_,authors:I,color:$,rawUrl:T,sourceUrl:f};function N(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;const{native:d}=window.enmity;function k(){d.reload()}d.version,d.build,d.device,d.version;async function F(){let o=(await(await fetch(`${T}?${Math.random()}`)).text()).match(/[0-9].[0-9].[0-9]/g);if(!o)return!1;o=o[0].replace('"',""),o=o.split(".").map(m=>parseInt(m));const n=S.split(".").map(m=>parseInt(m));return o[0]>n[0]||o[0]==n[0]&&o[1]>n[1]?!0:o[0]==n[0]&&o[1]==n[1]&&o[2]>n[2]}const V=o=>{window.enmity.plugins.installPlugin(o).then(()=>{v.show({title:"Plugin Updater",body:"Updated to the latest version. Would you like to reload Discord now?",confirmText:"Reload",cancelText:"Later",onConfirm:k})})};function E(){v.show({title:"Plugin Updater",body:`${p} has an update. Do you want to update now?`,confirmText:"Update",cancelText:"No",onConfirm:()=>V(`${T}?${Math.random()}`)})}const b=N("transitionToGuild");var H=()=>{const o=P.createThemedStyleSheet({item:{color:c.ThemeColorMap.TEXT_MUTED},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},main_text:{opacity:.975,letterSpacing:.25},header:{color:c.ThemeColorMap.HEADER_PRIMARY,fontFamily:c.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:c.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),[n,m]=t.useState(),[r,y]=t.useState();return t.createElement(t.Fragment,null,t.createElement(M,{onTouchStart:i=>{m(i.nativeEvent.pageX),y(i.nativeEvent.pageY)},onTouchEnd:i=>{n-i.nativeEvent.pageX<-100&&r-i.nativeEvent.pageY<40&&r-i.nativeEvent.pageY>-40&&A.pop()}},t.createElement(g,null,t.createElement(g,{style:o.text_container},t.createElement(h,{style:[o.main_text,o.header]},p),t.createElement(g,{style:{flexDirection:"row"}},t.createElement(h,{style:[o.main_text,o.sub_header]},"Version:"),t.createElement(h,{style:[o.main_text,o.sub_header,{paddingLeft:4,fontFamily:c.Fonts.DISPLAY_BOLD}]}," ",S)))),t.createElement(U,{title:"Source"},t.createElement(u,{label:"Check for Updates",trailing:u.Arrow,onPress:()=>{F().then(i=>{i&&E()})}}),t.createElement(u,{label:"Source",subLabel:`See the Source Code for ${p}`,trailing:u.Arrow,onPress:()=>b==null?void 0:b.openURL(f)}))))};const x=L("ReplaceTimestamps"),Y={...B,onStart(){F().then(n=>{n&&E()});const o=n=>{const m=new Date().toISOString().replace(/T/," ").replace(/\..+/,"").replace(/\d?\d:\d\d/,n),r=Math.round(new Date(m).getTime()/1e3);return isNaN(r)?n:`<t:${r}:t>`};x.before(R,"sendMessage",(n,[,m])=>{const r=/(?<!\d)\d{1,2}:\d{2}(?!\d)(am|pm)?/gi,y=/((?<!\d)\d{1,2}:\d{2}(?!\d))(am|pm)?/i;m.content.search(r)!==-1&&(m.content=m.content.replace(r,i=>{let[,l,w]=i.match(y),[s,a]=l.split(":").map(C=>parseInt(C));return w&&w.toLowerCase()==="pm"&&s<12&&s!==0?(s+=12,a=a.toString().padStart(2,"0"),l=`${s}:${a}`):w&&w.toLowerCase()==="am"&&s===12||s===24?l=`00:${a}`:a>=60&&(s+=Math.floor(a/60),a=a%60,l=`${s}:${a}`),o(l)}))})},onStop(){x.unpatchAll()},getSettingsPanel(){return t.createElement(H,null)}};D(Y);
