function k(o){window.enmity.plugins.registerPlugin(o)}function M(o){return window.enmity.patcher.create(o)}const w=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const B=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const i=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts;const y=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const I=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const N=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function T(o,t,n){window.enmity.settings.set(o,t,n)}function b(o,t,n){return window.enmity.settings.get(o,t,n)}const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const V=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const p=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const S=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const c=e.FormRow,F=e.FormSection;e.FormSelect,e.FormSubLabel;const O=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var r="ReplaceTimestamps",s="1.1.7",Y="Replaces plaintext 24 hour timestamps into Discord's timestamps",C=[{name:"HypedDomi",id:"354191516979429376"}],H="#E54B4B",E="https://raw.githubusercontent.com/HypedDomi/Enmity-Stuff/main/dist/ReplaceTimestamps.js",x="https://github.com/HypedDomi/Enmity-Stuff/tree/main/ReplaceTimestamps",v=["Some improvements"],d={name:r,version:s,description:Y,authors:C,color:H,rawUrl:E,sourceUrl:x,changelog:v};function z(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;const{native:g}=window.enmity;function j(){g.reload()}g.version,g.build,g.device,g.version;async function _(){let o=(await(await fetch(`${E}?${Math.random()}`)).text()).match(/\d\.\d\.\d+/g);if(!(o!=null&&o.length))return!1;o=o[0].replace('"',""),o=o.split(".").map(n=>parseInt(n));const t=s.split(".").map(n=>parseInt(n));return o[0]>t[0]||o[0]==t[0]&&o[1]>t[1]?!0:o[0]==t[0]&&o[1]==t[1]&&o[2]>t[2]}const K=o=>{let t=[];fetch(o).then(n=>n.text()).then(n=>t=n.match(/\d\.\d\.\d+/g)),window.enmity.plugins.installPlugin(o,({data:n})=>{n=="installed_plugin"||n=="overridden_plugin"?y.show({title:`Updated ${r}`,body:`Successfully updated to version **${t!=null&&t.length?t[0]:s}**. Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Later",onConfirm:()=>j()}):console.log(`[${r}] Plugin failed to update to version ${s}`)})};function D(){y.show({title:"Plugin Updater",body:`**${r}** has an update. Do you want to update now?`,confirmText:"Update",cancelText:"No",onConfirm:()=>{T(r,"_didUpdate",!0),K(`${E}?${Math.random()}`)}})}function $(){!v.length||y.show({title:`${r} - v${s}`,body:`- ${v.join(`
- `)}`,confirmText:"OK",onConfirm:()=>T(r,"_changelog",s)})}const L=z("transitionToGuild");var W=({settings:o})=>{const t=N.createThemedStyleSheet({item:{color:w.ThemeColorMap.TEXT_MUTED},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},main_text:{opacity:.975,letterSpacing:.25},header:{color:w.ThemeColorMap.HEADER_PRIMARY,fontFamily:w.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:w.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),[n,l]=i.useState(),[h,m]=i.useState();return i.createElement(i.Fragment,null,i.createElement(V,{onTouchStart:a=>{l(a.nativeEvent.pageX),m(a.nativeEvent.pageY)},onTouchEnd:a=>{n-a.nativeEvent.pageX<-100&&h-a.nativeEvent.pageY<40&&h-a.nativeEvent.pageY>-40&&I.pop()}},i.createElement(S,null,i.createElement(S,{style:t.text_container},i.createElement(p,{style:[t.main_text,t.header]},r),i.createElement(S,{style:{flexDirection:"row"}},i.createElement(p,{style:[t.main_text,t.sub_header]},"Author:"),i.createElement(p,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:w.Fonts.DISPLAY_BOLD}]},` ${C.map(a=>a.name).join(", ")}`)),i.createElement(S,{style:{flexDirection:"row"}},i.createElement(p,{style:[t.main_text,t.sub_header]},"Version:"),i.createElement(p,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:w.Fonts.DISPLAY_BOLD}]},` ${s}`)))),i.createElement(F,{title:"Updates"},i.createElement(c,{label:"Check for Updates on startup",subLabel:"Checks automatically for updates when starting the Plugin",trailing:i.createElement(O,{value:o.getBoolean("autoUpdateCheck",!0),onValueChange:()=>o.toggle("autoUpdateCheck",!0)})}),i.createElement(c,{label:"Check for Updates",trailing:c.Arrow,onPress:()=>{_().then(a=>{a?D():y.show({title:"Plugin Updater",body:`**${r}** is already on the latest version (**${s}**)`,confirmText:"OK"})})}}),i.createElement(c,{label:"Show Changelog",subLabel:`Shows the changelog for v${s}`,trailing:c.Arrow,onPress:()=>$(),disabled:!v.length})),i.createElement(F,{title:"Source"},i.createElement(c,{label:"Source",subLabel:`See the Source Code for ${r}`,trailing:c.Arrow,onPress:()=>L==null?void 0:L.openURL(x)}))))};const U=M("ReplaceTimestamps"),X={...d,onStart(){b(d.name,"_didUpdate",!1)||(b(d.name,"autoUpdateCheck",!0)&&_().then(t=>{t&&D()}),b(d.name,"_changelog",d.version)!==d.version&&$()),T(d.name,"_didUpdate",!1);const o=t=>{const n=new Date().toISOString().replace(/T/," ").replace(/\..+/,"").replace(/\d?\d:\d\d/,t),l=Math.round(new Date(n).getTime()/1e3);return isNaN(l)?t:` <t:${l}:t> `};U.before(B,"sendMessage",(t,[,n])=>{let l=/(?:^| )(?:([0-2]?[1-9]):([0-5][0-9])(?: ?([ap]m{1}?))?|([0-2]?[1-9])(?: ?([ap]m{1}?)))(?:$| )/gim;n.content.search(l)!==-1&&(n.content=n.content.replace(l,h=>{l=/(?:^| )(?:([0-2]?[1-9]):([0-5][0-9])(?: ?([ap]m?))?|([0-2]?[1-9])(?: ?([ap]m?)))(?:$| )/gim;let[,m,a,u,A,P]=l.exec(h);[m,a]=[m||A,a||"00"].map(R=>parseInt(R));let f=`${m}:${a}`;return u=u||P,u&&u.toLowerCase()==="pm"&&m<12&&m!==0?(m+=12,a=a.toString().padStart(2,"0"),f=`${m}:${a}`):(u&&u.toLowerCase()==="am"&&m===12||m===24)&&(f=`00:${a}`),o(f)}))})},onStop(){U.unpatchAll()},getSettingsPanel({settings:o}){return i.createElement(W,{settings:o})}};k(X);
